{"remainingRequest":"/home/marc/Escritorio/MCMeals/client.mcmeals.com/node_modules/babel-loader/lib/index.js!/home/marc/Escritorio/MCMeals/client.mcmeals.com/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/marc/Escritorio/MCMeals/client.mcmeals.com/node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js??ref--0-1!/home/marc/Escritorio/MCMeals/client.mcmeals.com/src/views/Product.vue?vue&type=script&lang=js","dependencies":[{"path":"/home/marc/Escritorio/MCMeals/client.mcmeals.com/src/views/Product.vue","mtime":1621027005221},{"path":"/home/marc/Escritorio/MCMeals/client.mcmeals.com/node_modules/cache-loader/dist/cjs.js","mtime":1617103260404},{"path":"/home/marc/Escritorio/MCMeals/client.mcmeals.com/node_modules/babel-loader/lib/index.js","mtime":1617103260368},{"path":"/home/marc/Escritorio/MCMeals/client.mcmeals.com/node_modules/cache-loader/dist/cjs.js","mtime":1617103260404},{"path":"/home/marc/Escritorio/MCMeals/client.mcmeals.com/node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js","mtime":1617103260244}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3ltYm9sLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3ltYm9sLmRlc2NyaXB0aW9uLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLnRpbWVycy5qcyI7CmltcG9ydCBfb2JqZWN0U3ByZWFkIGZyb20gIi9ob21lL21hcmMvRXNjcml0b3Jpby9NQ01lYWxzL2NsaWVudC5tY21lYWxzLmNvbS9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vb2JqZWN0U3ByZWFkMiI7CmltcG9ydCBzdG9yZSBmcm9tICJAL3N0b3JlIjsKaW1wb3J0IFByb2R1Y3RQcmV2aWV3IGZyb20gJ0AvY29tcG9uZW50cy9Qcm9kdWN0UHJldmlldy52dWUnOwppbXBvcnQgeyBtYXBHZXR0ZXJzIH0gZnJvbSAidnVleCI7CmltcG9ydCB7IEdFVF9QUk9EVUNULCBBRERfQ0FSVCwgQUREX0NPTU1FTlQsIERFTEVURV9DT01NRU5UIH0gZnJvbSAiQC9zdG9yZS9hY3Rpb25zLnR5cGUiOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ1Byb2R1Y3QnLAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBxdWFudGl0eTogMSwKICAgICAgZGVzY3JpcHRpb246IDEsCiAgICAgIG51dHJpdGlvbmFsOiAwLAogICAgICBvcGVuUmV2aWV3OiBmYWxzZSwKICAgICAgaW5ncmVkaWVudERlc2NyaXB0aW9uOiBudWxsLAogICAgICB0b2FzdHJfc3VjY2VzczogZmFsc2UsCiAgICAgIHRvYXN0cl9lcnJvcjogZmFsc2UKICAgIH07CiAgfSwKICBjb21wb25lbnRzOiB7CiAgICBQcm9kdWN0UHJldmlldzogUHJvZHVjdFByZXZpZXcKICB9LAogIGJlZm9yZVJvdXRlRW50ZXI6IGZ1bmN0aW9uIGJlZm9yZVJvdXRlRW50ZXIodG8sIGZyb20sIG5leHQpIHsKICAgIHN0b3JlLmRpc3BhdGNoKEdFVF9QUk9EVUNULCB0by5wYXJhbXMuc2x1Zyk7CiAgICByZXR1cm4gbmV4dCgpOwogIH0sCiAgY29tcHV0ZWQ6IF9vYmplY3RTcHJlYWQoe30sIG1hcEdldHRlcnMoWyJwcm9kdWN0IiwgInJlbGF0ZWRfdG9fcHJvZHVjdCIsICJ1c2VyIl0pKSwKICBtZXRob2RzOiB7CiAgICBzZWxlY3Q6IGZ1bmN0aW9uIHNlbGVjdChudW1iZXIpIHsKICAgICAgc3dpdGNoIChudW1iZXIpIHsKICAgICAgICBjYXNlIDE6CiAgICAgICAgICB0aGlzLmRlc2NyaXB0aW9uID0gMTsKICAgICAgICAgIHRoaXMubnV0cml0aW9uYWwgPSAwOwogICAgICAgICAgYnJlYWs7CgogICAgICAgIGNhc2UgMjoKICAgICAgICAgIHRoaXMuZGVzY3JpcHRpb24gPSAwOwogICAgICAgICAgdGhpcy5udXRyaXRpb25hbCA9IDE7CiAgICAgICAgICBicmVhazsKICAgICAgfQogICAgfSwKICAgIGxlc3M6IGZ1bmN0aW9uIGxlc3MoKSB7CiAgICAgIGlmICh0aGlzLnF1YW50aXR5ICE9PSAxKSB7CiAgICAgICAgdGhpcy5xdWFudGl0eSAtPSAxOwogICAgICB9CgogICAgICA7CiAgICB9LAogICAgbW9yZTogZnVuY3Rpb24gbW9yZSgpIHsKICAgICAgdGhpcy5xdWFudGl0eSArPSAxOwogICAgfSwKICAgIHRvQ2FydDogZnVuY3Rpb24gdG9DYXJ0KHByb2R1Y3QpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIHRoaXMuJHN0b3JlLmRpc3BhdGNoKEFERF9DQVJULCB0aGlzLnF1YW50aXR5KS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgIGlmIChyZXNwb25zZSkgewogICAgICAgICAgX3RoaXMudG9hc3RyX2Vycm9yID0gZmFsc2U7CiAgICAgICAgICBfdGhpcy50b2FzdHJfc3VjY2VzcyA9IHRydWU7CiAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgcmV0dXJuIF90aGlzLnRvYXN0cl9zdWNjZXNzID0gZmFsc2U7CiAgICAgICAgICB9LCAzMDAwKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgX3RoaXMudG9hc3RyX3N1Y2Nlc3MgPSBmYWxzZTsKICAgICAgICAgIF90aGlzLnRvYXN0cl9lcnJvciA9IHRydWU7CiAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgcmV0dXJuIF90aGlzLnRvYXN0cl9lcnJvciA9IGZhbHNlOwogICAgICAgICAgfSwgMzAwMCk7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0sCiAgICBhZGRfcmV2aWV3OiBmdW5jdGlvbiBhZGRfcmV2aWV3KHRpdGxlLCBib2R5KSB7CiAgICAgIHRoaXMuJHN0b3JlLmRpc3BhdGNoKEFERF9DT01NRU5ULCB7CiAgICAgICAgdGl0bGU6IHRpdGxlLAogICAgICAgIGJvZHk6IGJvZHkKICAgICAgfSk7CiAgICB9LAogICAgZGVsZXRlX2NvbW1lbnQ6IGZ1bmN0aW9uIGRlbGV0ZV9jb21tZW50KGNvbW1lbnQpIHsKICAgICAgdGhpcy4kc3RvcmUuZGlzcGF0Y2goREVMRVRFX0NPTU1FTlQsIGNvbW1lbnQpOwogICAgfSwKICAgIG9wZW5EZXNjcmlwdGlvbjogZnVuY3Rpb24gb3BlbkRlc2NyaXB0aW9uKGRlc2NyaXB0aW9uKSB7CiAgICAgIHRoaXMuaW5ncmVkaWVudERlc2NyaXB0aW9uID0gZGVzY3JpcHRpb247CiAgICB9LAogICAgcmVtb3ZlVG9hc3RyOiBmdW5jdGlvbiByZW1vdmVUb2FzdHIoKSB7CiAgICAgIHRoaXMudG9hc3RyX2Vycm9yID0gZmFsc2U7CiAgICAgIHRoaXMudG9hc3RyX3N1Y2Nlc3MgPSBmYWxzZTsKICAgIH0KICB9Cn07"},{"version":3,"sources":["/home/marc/Escritorio/MCMeals/client.mcmeals.com/src/views/Product.vue"],"names":[],"mappings":";;;;AAgJA,OAAO,KAAP,MAAkB,SAAlB;AACA,OAAO,cAAP,MAA2B,iCAA3B;AACA,SAAS,UAAT,QAA2B,MAA3B;AACA,SACE,WADF,EAEE,QAFF,EAGE,WAHF,EAIE,cAJF,QAKO,sBALP;AAOA,eAAe;AACb,EAAA,IAAI,EAAE,SADO;AAGb,EAAA,IAHa,kBAGN;AACL,WAAO;AACL,MAAA,QAAQ,EAAE,CADL;AAEL,MAAA,WAAW,EAAE,CAFR;AAGL,MAAA,WAAW,EAAE,CAHR;AAIL,MAAA,UAAU,EAAE,KAJP;AAKL,MAAA,qBAAqB,EAAE,IALlB;AAML,MAAA,cAAc,EAAE,KANX;AAOL,MAAA,YAAY,EAAE;AAPT,KAAP;AASD,GAbY;AAeb,EAAA,UAAU,EAAE;AACV,IAAA,cAAa,EAAb;AADU,GAfC;AAoBb,EAAA,gBApBa,4BAoBI,EApBJ,EAoBQ,IApBR,EAoBc,IApBd,EAoBoB;AAC/B,IAAA,KAAK,CAAC,QAAN,CAAe,WAAf,EAA4B,EAAE,CAAC,MAAH,CAAU,IAAtC;AACA,WAAO,IAAI,EAAX;AACD,GAvBY;AAyBb,EAAA,QAAQ,oBACD,UAAU,CAAC,CAAC,SAAD,EAAY,oBAAZ,EAAkC,MAAlC,CAAD,CADT,CAzBK;AA6Bb,EAAA,OAAO,EAAE;AACP,IAAA,MADO,kBACA,MADA,EACQ;AACb,cAAQ,MAAR;AACE,aAAK,CAAL;AACE,eAAK,WAAL,GAAmB,CAAnB;AACA,eAAK,WAAL,GAAmB,CAAnB;AACA;;AAEF,aAAK,CAAL;AACE,eAAK,WAAL,GAAmB,CAAnB;AACA,eAAK,WAAL,GAAmB,CAAnB;AACA;AATJ;AAWD,KAbM;AAeP,IAAA,IAfO,kBAeA;AACL,UAAI,KAAK,QAAL,KAAkB,CAAtB,EAAyB;AAAC,aAAK,QAAL,IAAiB,CAAjB;AAAmB;;AAAA;AAC9C,KAjBM;AAmBP,IAAA,IAnBO,kBAmBA;AACL,WAAK,QAAL,IAAiB,CAAjB;AACD,KArBM;AAuBP,IAAA,MAvBO,kBAuBA,OAvBA,EAuBS;AAAA;;AACd,WAAK,MAAL,CAAY,QAAZ,CAAqB,QAArB,EAA+B,KAAK,QAApC,EACC,IADD,CACM,UAAC,QAAD,EAAc;AAClB,YAAI,QAAJ,EAAc;AACZ,UAAA,KAAI,CAAC,YAAL,GAAoB,KAApB;AACA,UAAA,KAAI,CAAC,cAAL,GAAsB,IAAtB;AACA,UAAA,UAAU,CAAC;AAAA,mBAAM,KAAI,CAAC,cAAL,GAAsB,KAA5B;AAAA,WAAD,EAAoC,IAApC,CAAV;AACF,SAJA,MAIO;AACL,UAAA,KAAI,CAAC,cAAL,GAAsB,KAAtB;AACA,UAAA,KAAI,CAAC,YAAL,GAAoB,IAApB;AACA,UAAA,UAAU,CAAC;AAAA,mBAAM,KAAI,CAAC,YAAL,GAAoB,KAA1B;AAAA,WAAD,EAAkC,IAAlC,CAAV;AACF;AACD,OAXD;AAYD,KApCM;AAsCP,IAAA,UAtCO,sBAsCI,KAtCJ,EAsCW,IAtCX,EAsCiB;AACtB,WAAK,MAAL,CAAY,QAAZ,CAAqB,WAArB,EAAkC;AAAE,QAAA,KAAK,EAAL,KAAF;AAAS,QAAA,IAAG,EAAH;AAAT,OAAlC;AACD,KAxCM;AA0CP,IAAA,cA1CO,0BA0CQ,OA1CR,EA0CiB;AACtB,WAAK,MAAL,CAAY,QAAZ,CAAqB,cAArB,EAAqC,OAArC;AACD,KA5CM;AA8CP,IAAA,eA9CO,2BA8CS,WA9CT,EA8CsB;AAC3B,WAAK,qBAAL,GAA6B,WAA7B;AACD,KAhDM;AAkDP,IAAA,YAlDO,0BAkDQ;AACb,WAAK,YAAL,GAAoB,KAApB;AACA,WAAK,cAAL,GAAsB,KAAtB;AACF;AArDO;AA7BI,CAAf","sourcesContent":["<template>\n  <section class=\"product\">\n\n    <section v-if=\"product\" class=\"product-details\">\n      <section class=\"product-image\">\n        <img v-bind:src=\"product.image\" class=\"image\" alt=\"product iamge\" />\n      </section>\n\n      <section class=\"product-info\">\n        <article v-if=\"product.type\" class=\"product-type\">{{product.type}}</article>\n        <p class=\"product-name\">{{product.name}} - {{product.weight}} KG</p>\n        <p class=\"product-price\">â‚¬{{product.price}}</p>\n\n        <section class=\"tabs\">\n          <section class=\"tabs-names\">\n            <a @click=\"select(1)\" v-bind:class=\"[ description === 1 ? 'selected' : 'unselected']\">DESCRIPTION</a>\n            <a @click=\"select(2)\" v-bind:class=\"[ nutritional === 1 ? 'selected' : 'unselected']\">NUTRITIONAL INFORMATION</a> \n          </section>\n\n          <section class=\"tabs-content\">\n            <section v-if=\"description === 1\" class=\"description\">\n             <span class=\"product-description\">{{product.description}}</span>\n             \n             <section v-if=\"product.ingredients.length > 0\" class=\"product-ingredients\">\n              <span class=\"ingredient-title\">Ingredients:</span>\n              <article class=\"ingredient\" v-for=\"ingredient in product.ingredients\">\n                <span v-if=\"ingredient.description\" @click=\"openDescription(ingredient.description)\" class=\"ingredient-description\">{{ingredient.name}}</span>\n                <span v-else>{{ingredient.name}}</span>\n              </article>\n             </section>\n            </section>\n\n            <section v-if=\"nutritional === 1\" class=\"nutritional\">\n              <table class=\"nutritional-table\">\n                  <tr>\n                    <th></th>\n                    <th>Per 100 g</th>\n                  </tr>\n                  <tr>\n                    <td>Energy</td>\n                    <td>{{product.energy}} kcal</td>\n                  </tr>\n                  <tr>\n                    <td>Fats</td>\n                    <td>{{product.fats}} g</td>\n                  </tr>\n                  <tr>\n                    <td class=\"align-right\">of which saturated</td>\n                    <td>{{product.saturated}} g</td>\n                  </tr>\n                  <tr>\n                    <td>Carbohydrates</td>\n                    <td>{{product.carbohydrates}} g</td>\n                  </tr>\n                  <tr>\n                    <td class=\"align-right\">of which sugars</td>\n                    <td>{{product.sugars}} g</td>\n                  </tr>\n                  <tr>\n                    <td>Proteins</td>\n                    <td>{{product.proteins}} g</td>\n                  </tr>\n                  <tr>\n                    <td>Fiber</td>\n                    <td>{{product.fiber}} g</td>\n                  </tr>\n                  <tr>\n                    <td>Salt</td>\n                    <td>{{product.salt}} g</td>\n                  </tr>\n              </table>\n            </section>\n          </section>\n        </section>\n\n        <section class=\"add-to-cart\">\n          <section class=\"quantity\">\n            <button @click=\"less()\">-</button>\n            <span>{{ quantity }}</span>\n            <button @click=\"more()\">+</button>\n          </section>\n\n          <button @click=\"toCart(product)\" class=\"to-cart-button\">ADD TO CART</button>\n        </section>\n\n      </section>\n    </section>\n\n    <section v-if=\"product\" class=\"customer-reviews\">\n      <span class=\"customer-reviews-title\">CUSTOMER REVIEWS</span>\n\n      <section v-if=\"user || product.comments.length < 1\" class=\"no-reviews\">\n        <span v-if=\"product.comments.length < 1\">No reviews yet</span>\n        <span v-if=\"user\" class=\"write-review\" @click=\"openReview ? openReview = false : openReview = true\">Write a review</span>\n      </section>\n\n      <section v-if=\"openReview\" class=\"add-review\">\n        <form class=\"review-form\" @submit.prevent=\"add_review(title, body)\">\n          <label>REVIEW TITLE</label>\n          <input type=\"text\" placeholder=\"Give your review a title\" v-model=\"title\" required />\n\n          <label>BODY OF REVIEW</label>\n          <input type=\"text\" placeholder=\"Wrte your comments there\" v-model=\"body\" required />\n\n          <section>\n            <button class=\"review-button\">SUBMIT REVIEW</button>\n          </section>  \n        </form>\n      </section>\n\n      <section v-if=\"product.comments.length > 0\" class=\"product-comments\">\n        <article class=\"comment\" v-for=\"comment in product.comments\">\n          <span class=\"comment-title\">{{comment.title}}</span>\n          <p class=\"comment-body\">{{comment.body}}</p>\n          <button v-if=\"user && user.id === comment.user.id\" @click=\"delete_comment(comment)\" class=\"comment-delete\">Delete Comment</button>\n        </article>\n      </section>\n    </section>\n\n    <section v-if=\"related_to_product\" class=\"related\">\n      <span class=\"related-title\">RELATED ITEMS</span>\n      <section class=\"related-to-product\">\n        <ProductPreview v-for=\"product in related_to_product\" v-bind:product=\"product\" />\n      </section>\n    </section>\n\n    <section v-if=\"ingredientDescription\" class=\"description-modal\">\n      <button @click=\"ingredientDescription = null\">X</button>\n      <span>{{ingredientDescription}}</span>\n    </section>\n\n    <article @click=\"removeToastr()\" v-if=\"toastr_success\" class=\"toastr toastr-green\">\n      <span>Successfully added to cart</span>\n    </article>\n    <article @click=\"removeToastr()\" v-if=\"toastr_error\" class=\"toastr toastr-red\">\n      <span>This product is already in your cart</span>\n    </article>\n\n  </section>\n</template>\n\n\n\n<script>\nimport store from \"@/store\";\nimport ProductPreview from '@/components/ProductPreview.vue';\nimport { mapGetters } from \"vuex\";\nimport {\n  GET_PRODUCT,\n  ADD_CART,\n  ADD_COMMENT,\n  DELETE_COMMENT,\n} from \"@/store/actions.type\";\n\nexport default {\n  name: 'Product',\n\n  data() {\n    return {\n      quantity: 1,\n      description: 1,\n      nutritional: 0,\n      openReview: false,\n      ingredientDescription: null,\n      toastr_success: false,\n      toastr_error: false,\n    };\n  },\n\n  components: {\n    ProductPreview\n  },\n\n\n  beforeRouteEnter(to, from, next) {\n    store.dispatch(GET_PRODUCT, to.params.slug);\n    return next();\n  },\n\n  computed: {\n      ...mapGetters([\"product\", \"related_to_product\", \"user\"]),\n  },\n\n  methods: {\n    select(number) {\n      switch (number) {\n        case 1:\n          this.description = 1;\n          this.nutritional = 0;\n          break;\n\n        case 2:\n          this.description = 0;\n          this.nutritional = 1;\n          break;\n      }\n    },\n\n    less() {\n      if (this.quantity !== 1) {this.quantity -= 1};\n    },\n\n    more() {\n      this.quantity += 1;\n    },\n\n    toCart(product) {\n      this.$store.dispatch(ADD_CART, this.quantity)\n      .then((response) => {\n        if (response) {\n          this.toastr_error = false;\n          this.toastr_success = true;\n          setTimeout(() => this.toastr_success = false, 3000);\n        } else {\n          this.toastr_success = false;\n          this.toastr_error = true;\n          setTimeout(() => this.toastr_error = false, 3000);\n        }\n      });\n    },\n\n    add_review(title, body) {\n      this.$store.dispatch(ADD_COMMENT, { title, body });\n    },\n\n    delete_comment(comment) {\n      this.$store.dispatch(DELETE_COMMENT, comment);\n    },\n\n    openDescription(description) {\n      this.ingredientDescription = description;\n    },\n\n    removeToastr() {\n      this.toastr_error = false;\n      this.toastr_success = false;\n    }\n  }\n};\n</script>\n\n<style src=\"./Product.css\" scoped />"],"sourceRoot":""}]}