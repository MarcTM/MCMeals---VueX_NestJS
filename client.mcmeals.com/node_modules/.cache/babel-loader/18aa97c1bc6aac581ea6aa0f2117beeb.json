{"remainingRequest":"/home/marc/Escritorio/MCMeals/client.mcmeals.com/node_modules/babel-loader/lib/index.js!/home/marc/Escritorio/MCMeals/client.mcmeals.com/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/marc/Escritorio/MCMeals/client.mcmeals.com/node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js??ref--0-1!/home/marc/Escritorio/MCMeals/client.mcmeals.com/src/views/auth/Register.vue?vue&type=script&lang=js","dependencies":[{"path":"/home/marc/Escritorio/MCMeals/client.mcmeals.com/src/views/auth/Register.vue","mtime":1621191521940},{"path":"/home/marc/Escritorio/MCMeals/client.mcmeals.com/node_modules/cache-loader/dist/cjs.js","mtime":1617103260404},{"path":"/home/marc/Escritorio/MCMeals/client.mcmeals.com/node_modules/babel-loader/lib/index.js","mtime":1617103260368},{"path":"/home/marc/Escritorio/MCMeals/client.mcmeals.com/node_modules/cache-loader/dist/cjs.js","mtime":1617103260404},{"path":"/home/marc/Escritorio/MCMeals/client.mcmeals.com/node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js","mtime":1617103260244}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLnRpbWVycy5qcyI7CmltcG9ydCBzdG9yZSBmcm9tICdAL3N0b3JlJzsKaW1wb3J0IHsgUkVHSVNURVIgfSBmcm9tICJAL3N0b3JlL2FjdGlvbnMudHlwZSI7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAiUmVnaXN0ZXIiLAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICB0b2FzdHJfc3VjY2VzczogZmFsc2UsCiAgICAgIHRvYXN0cl9lcnJvcjogZmFsc2UKICAgIH07CiAgfSwKICBtZXRob2RzOiB7CiAgICByZWdpc3RlcjogZnVuY3Rpb24gcmVnaXN0ZXIobmFtZSwgc3VybmFtZSwgZW1haWwsIHBhc3N3b3JkLCBycGFzc3dvcmQpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIGlmIChwYXNzd29yZCA9PT0gcnBhc3N3b3JkKSB7CiAgICAgICAgdGhpcy4kc3RvcmUuZGlzcGF0Y2goUkVHSVNURVIsIHsKICAgICAgICAgIG5hbWU6IG5hbWUsCiAgICAgICAgICBzdXJuYW1lOiBzdXJuYW1lLAogICAgICAgICAgZW1haWw6IGVtYWlsLAogICAgICAgICAgcGFzc3dvcmQ6IHBhc3N3b3JkCiAgICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICAgIGlmIChyZXNwb25zZS5lbWFpbCAmJiByZXNwb25zZS5lbWFpbCA9PT0gZW1haWwpIHsKICAgICAgICAgICAgX3RoaXMudG9hc3RyX2Vycm9yID0gZmFsc2U7CiAgICAgICAgICAgIF90aGlzLnRvYXN0cl9zdWNjZXNzID0gdHJ1ZTsKICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgX3RoaXMudG9hc3RyX3N1Y2Nlc3MgPSBmYWxzZTsKCiAgICAgICAgICAgICAgX3RoaXMuJHJvdXRlci5wdXNoKHsKICAgICAgICAgICAgICAgIG5hbWU6ICJMb2dpbiIKICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgfSwgMjAwMCk7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBfdGhpcy50b2FzdHJfc3VjY2VzcyA9IGZhbHNlOwogICAgICAgICAgICBfdGhpcy50b2FzdHJfZXJyb3IgPSB0cnVlOwogICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICByZXR1cm4gX3RoaXMudG9hc3RyX2Vycm9yID0gZmFsc2U7CiAgICAgICAgICAgIH0sIDMwMDApOwogICAgICAgICAgfQogICAgICAgIH0pWyJjYXRjaCJdKGZ1bmN0aW9uIChlcnJvcikgewogICAgICAgICAgY29uc29sZS5lcnJvcihlcnJvcik7CiAgICAgICAgfSk7CiAgICAgIH0KICAgIH0KICB9Cn07"},{"version":3,"sources":["/home/marc/Escritorio/MCMeals/client.mcmeals.com/src/views/auth/Register.vue"],"names":[],"mappings":";AA6CE,OAAO,KAAP,MAAkB,SAAlB;AACA,SACE,QADF,QAEO,sBAFP;AAIA,eAAe;AACb,EAAA,IAAI,EAAE,UADO;AAGb,EAAA,IAHa,kBAGN;AACL,WAAO;AACL,MAAA,cAAc,EAAE,KADX;AAEL,MAAA,YAAY,EAAE;AAFT,KAAP;AAID,GARY;AAUb,EAAA,OAAO,EAAE;AACL,IAAA,QADK,oBACI,IADJ,EACU,OADV,EACmB,KADnB,EAC0B,QAD1B,EACoC,SADpC,EAC+C;AAAA;;AAClD,UAAI,QAAO,KAAM,SAAjB,EAA4B;AAC1B,aAAK,MAAL,CAAY,QAAZ,CAAqB,QAArB,EAA+B;AAAE,UAAA,IAAI,EAAJ,IAAF;AAAQ,UAAA,OAAO,EAAP,OAAR;AAAiB,UAAA,KAAK,EAAL,KAAjB;AAAwB,UAAA,QAAO,EAAP;AAAxB,SAA/B,EACG,IADH,CACQ,UAAC,QAAD,EAAc;AAClB,cAAI,QAAQ,CAAC,KAAT,IAAkB,QAAQ,CAAC,KAAT,KAAmB,KAAzC,EAAgD;AAC9C,YAAA,KAAI,CAAC,YAAL,GAAoB,KAApB;AACA,YAAA,KAAI,CAAC,cAAL,GAAsB,IAAtB;AACA,YAAA,UAAU,CAAC,YAAM;AACf,cAAA,KAAI,CAAC,cAAL,GAAsB,KAAtB;;AACA,cAAA,KAAI,CAAC,OAAL,CAAa,IAAb,CAAkB;AAAE,gBAAA,IAAI,EAAE;AAAR,eAAlB;AACD,aAHS,EAGP,IAHO,CAAV;AAIF,WAPA,MAOO;AACL,YAAA,KAAI,CAAC,cAAL,GAAsB,KAAtB;AACA,YAAA,KAAI,CAAC,YAAL,GAAoB,IAApB;AACA,YAAA,UAAU,CAAC;AAAA,qBAAM,KAAI,CAAC,YAAL,GAAoB,KAA1B;AAAA,aAAD,EAAkC,IAAlC,CAAV;AACF;AACD,SAdH,WAeS,UAAC,KAAD,EAAW;AAChB,UAAA,OAAO,CAAC,KAAR,CAAc,KAAd;AACD,SAjBH;AAkBF;AACF;AAtBK;AAVI,CAAf","sourcesContent":["<template>\n  <section class=\"register\">\n\n    <h1>SIGN UP</h1>\n\n    <form class=\"register-form\" @submit.prevent=\"register(name, surname, email, password, rpassword)\">\n      <label>NAME</label>\n      <input type=\"text\" v-model=\"name\" rerquired />\n\n      <label>SURNAME</label>\n      <input type=\"text\" v-model=\"surname\" rerquired />\n      \n      <label>EMAIL</label>\n      <input type=\"email\" v-model=\"email\" rerquired />\n\n      <label>PASSWORD</label>\n      <input type=\"password\" v-model=\"password\" rerquired />\n\n      <label>REPEAT PASSWORD</label>\n      <input type=\"password\" v-model=\"rpassword\" required />\n\n      <section>\n        <button class=\"register-button\">SIGN UP</button>\n        <router-link to=\"/login\">Login</router-link>\n      </section>  \n    </form>\n\n    <article @click=\"removeToastr()\" v-if=\"toastr_success\" class=\"toastr toastr-green\">\n      <span>Successfully registered, please log in</span>\n    </article>\n    <article @click=\"removeToastr()\" v-if=\"toastr_error_email\" class=\"toastr toastr-red\">\n      <span>This email is already in use</span>\n    </article>\n    <article @click=\"removeToastr()\" v-if=\"toastr_error_password\" class=\"toastr toastr-red\">\n      <span>Password should have more than 8 characters</span>\n    </article>\n    <article @click=\"removeToastr()\" v-if=\"toastr_error_password_check\" class=\"toastr toastr-red\">\n      <span>Passwords don't match</span>\n    </article>\n\n  </section>\n</template>\n\n\n<script>\n  import store from '@/store';\n  import {\n    REGISTER\n  } from \"@/store/actions.type\";\n\n  export default {\n    name: \"Register\",\n\n    data() {\n      return {\n        toastr_success: false,\n        toastr_error: false,\n      };\n    },\n\n    methods: {\n        register(name, surname, email, password, rpassword) {\n          if (password === rpassword) {\n            this.$store.dispatch(REGISTER, { name, surname, email, password })\n              .then((response) => {\n                if (response.email && response.email === email) {\n                  this.toastr_error = false;\n                  this.toastr_success = true;\n                  setTimeout(() => {\n                    this.toastr_success = false;\n                    this.$router.push({ name: \"Login\"});\n                  }, 2000);\n                } else {\n                  this.toastr_success = false;\n                  this.toastr_error = true;\n                  setTimeout(() => this.toastr_error = false, 3000);\n                }\n              })\n              .catch((error) => {\n                console.error(error);\n              })\n          }\n        }\n    },\n  }\n</script>\n\n<style src=\"./Register.css\" scoped />"],"sourceRoot":""}]}