{"remainingRequest":"/home/marc/Escritorio/MCMeals/client.mcmeals.com/node_modules/babel-loader/lib/index.js!/home/marc/Escritorio/MCMeals/client.mcmeals.com/node_modules/ts-loader/index.js??ref--13-2!/home/marc/Escritorio/MCMeals/client.mcmeals.com/src/store/auth.module.ts","dependencies":[{"path":"/home/marc/Escritorio/MCMeals/client.mcmeals.com/src/store/auth.module.ts","mtime":1616749498837},{"path":"/home/marc/Escritorio/MCMeals/client.mcmeals.com/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/marc/Escritorio/MCMeals/client.mcmeals.com/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/home/marc/Escritorio/MCMeals/client.mcmeals.com/node_modules/ts-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7CmltcG9ydCBfZGVmaW5lUHJvcGVydHkgZnJvbSAiL2hvbWUvbWFyYy9Fc2NyaXRvcmlvL01DTWVhbHMvY2xpZW50Lm1jbWVhbHMuY29tL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9kZWZpbmVQcm9wZXJ0eSI7Cgp2YXIgX2FjdGlvbnMsIF9tdXRhdGlvbnM7CgppbXBvcnQgQXBpU2VydmljZSBmcm9tICJAL2NvbW1vbi9hcGkuc2VydmljZSI7CmltcG9ydCBKd3RTZXJ2aWNlIGZyb20gIkAvY29tbW9uL2p3dC5zZXJ2aWNlIjsKaW1wb3J0IHsgTE9HSU4sIExPR09VVCwgUkVHSVNURVIsIFZBTElEQVRFLCBHRVRfUFJPRklMRSwgR0VUX0NBUlQsIEFERF9DQVJULCBSRU1PVkVfQ0FSVCB9IGZyb20gIi4vYWN0aW9ucy50eXBlIjsKaW1wb3J0IHsgU0VUX0FVVEgsIFBVUkdFX0FVVEgsIFNFVF9FUlJPUiwgU0VUX1BST0ZJTEUsIFNFVF9DQVJUIH0gZnJvbSAiLi9tdXRhdGlvbnMudHlwZSI7CnZhciBzdGF0ZSA9IHsKICBlcnJvcnM6IG51bGwsCiAgdXNlcjoge30sCiAgcHJvZmlsZToge30sCiAgY2FydDoge30sCiAgaXNBdXRoZW50aWNhdGVkOiAhIUp3dFNlcnZpY2UuZ2V0VG9rZW4oKQp9Owp2YXIgZ2V0dGVycyA9IHsKICAvLyBDdXJyZW50IHVzZXIKICBjdXJyZW50VXNlcjogZnVuY3Rpb24gY3VycmVudFVzZXIoc3RhdGUpIHsKICAgIHJldHVybiBzdGF0ZS51c2VyOwogIH0sCiAgLy8gSXMgYXV0aGVudGljYXRlZAogIGlzQXV0aGVudGljYXRlZDogZnVuY3Rpb24gaXNBdXRoZW50aWNhdGVkKHN0YXRlKSB7CiAgICByZXR1cm4gc3RhdGUuaXNBdXRoZW50aWNhdGVkOwogIH0sCiAgLy8gR2V0IGVycm9ycwogIGdldEVycm9yczogZnVuY3Rpb24gZ2V0RXJyb3JzKHN0YXRlKSB7CiAgICByZXR1cm4gc3RhdGUuZXJyb3JzOwogIH0sCiAgLy8gR2V0IHByb2ZpbGUKICBwcm9maWxlOiBmdW5jdGlvbiBwcm9maWxlKHN0YXRlKSB7CiAgICByZXR1cm4gc3RhdGUucHJvZmlsZTsKICB9LAogIC8vIEdldCBjYXJ0CiAgY2FydDogZnVuY3Rpb24gY2FydChzdGF0ZSkgewogICAgcmV0dXJuIHN0YXRlLmNhcnQ7CiAgfQp9Owp2YXIgYWN0aW9ucyA9IChfYWN0aW9ucyA9IHt9LCBfZGVmaW5lUHJvcGVydHkoX2FjdGlvbnMsIExPR0lOLCBmdW5jdGlvbiAoY29udGV4dCwgY3JlZGVudGlhbHMpIHsKICBjb25zb2xlLmxvZyhjcmVkZW50aWFscyk7CiAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlKSB7CiAgICBBcGlTZXJ2aWNlLnBvc3QoInVzZXJzL2xvZ2luIiwgY3JlZGVudGlhbHMpLnRoZW4oZnVuY3Rpb24gKF9yZWYpIHsKICAgICAgdmFyIGRhdGEgPSBfcmVmLmRhdGE7CiAgICAgIGNvbnNvbGUubG9nKGRhdGEpOwogICAgICBjb250ZXh0LmNvbW1pdChTRVRfQVVUSCwgZGF0YS50b2tlbik7CiAgICAgIHJlc29sdmUoZGF0YSk7CiAgICB9KVsiY2F0Y2giXShmdW5jdGlvbiAoX3JlZjIpIHsKICAgICAgdmFyIHJlc3BvbnNlID0gX3JlZjIucmVzcG9uc2U7CiAgICAgIGNvbnNvbGUubG9nKHJlc3BvbnNlLmRhdGEubm9uX2ZpZWxkX2Vycm9ycyk7CiAgICAgIGNvbnRleHQuY29tbWl0KFNFVF9FUlJPUiwgcmVzcG9uc2UuZGF0YS5ub25fZmllbGRfZXJyb3JzKTsKICAgIH0pOwogIH0pOwp9KSwgX2RlZmluZVByb3BlcnR5KF9hY3Rpb25zLCBMT0dPVVQsIGZ1bmN0aW9uIChjb250ZXh0KSB7CiAgY29udGV4dC5jb21taXQoUFVSR0VfQVVUSCk7Cn0pLCBfZGVmaW5lUHJvcGVydHkoX2FjdGlvbnMsIFJFR0lTVEVSLCBmdW5jdGlvbiAoY29udGV4dCwgY3JlZGVudGlhbHMpIHsKICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkgewogICAgQXBpU2VydmljZS5wb3N0KCJ1c2Vycy9yZWdpc3RlciIsIGNyZWRlbnRpYWxzKS50aGVuKGZ1bmN0aW9uIChfcmVmMykgewogICAgICB2YXIgZGF0YSA9IF9yZWYzLmRhdGE7CiAgICAgIHJlc29sdmUoZGF0YSk7CiAgICB9KVsiY2F0Y2giXShmdW5jdGlvbiAoX3JlZjQpIHsKICAgICAgdmFyIHJlc3BvbnNlID0gX3JlZjQucmVzcG9uc2U7CiAgICAgIGNvbnRleHQuY29tbWl0KFNFVF9FUlJPUiwgcmVzcG9uc2UuZGF0YSk7CiAgICAgIHJlamVjdChyZXNwb25zZSk7CiAgICB9KTsKICB9KTsKfSksIF9kZWZpbmVQcm9wZXJ0eShfYWN0aW9ucywgVkFMSURBVEUsIGZ1bmN0aW9uIChjb250ZXh0KSB7CiAgaWYgKEp3dFNlcnZpY2UuZ2V0VG9rZW4oKSkgewogICAgQXBpU2VydmljZS5nZXQoInVzZXJzL3ZhbGlkYXRlIiwgdHJ1ZSlbImNhdGNoIl0oZnVuY3Rpb24gKF9yZWY1KSB7CiAgICAgIHZhciByZXNwb25zZSA9IF9yZWY1LnJlc3BvbnNlOwogICAgICBjb25zb2xlLmxvZyhyZXNwb25zZSk7CiAgICAgIGNvbnRleHQuY29tbWl0KFBVUkdFX0FVVEgpOwogICAgfSk7CiAgfSBlbHNlIHsKICAgIGNvbnRleHQuY29tbWl0KFBVUkdFX0FVVEgpOwogIH0KfSksIF9kZWZpbmVQcm9wZXJ0eShfYWN0aW9ucywgR0VUX1BST0ZJTEUsIGZ1bmN0aW9uIChjb250ZXh0KSB7CiAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlKSB7CiAgICBBcGlTZXJ2aWNlLmdldCgidXNlcnMvcHJvZmlsZSIsIHRydWUpLnRoZW4oZnVuY3Rpb24gKF9yZWY2KSB7CiAgICAgIHZhciBkYXRhID0gX3JlZjYuZGF0YTsKICAgICAgY29udGV4dC5jb21taXQoU0VUX1BST0ZJTEUsIGRhdGEpOwogICAgICByZXNvbHZlKGRhdGEpOwogICAgfSlbImNhdGNoIl0oZnVuY3Rpb24gKF9yZWY3KSB7CiAgICAgIHZhciByZXNwb25zZSA9IF9yZWY3LnJlc3BvbnNlOwogICAgICBjb250ZXh0LmNvbW1pdChTRVRfRVJST1IsIHJlc3BvbnNlKTsKICAgIH0pOwogIH0pOwp9KSwgX2RlZmluZVByb3BlcnR5KF9hY3Rpb25zLCBHRVRfQ0FSVCwgZnVuY3Rpb24gKGNvbnRleHQpIHsKICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUpIHsKICAgIEFwaVNlcnZpY2UuZ2V0KCJ1c2Vycy9jYXJ0IiwgdHJ1ZSkudGhlbihmdW5jdGlvbiAoX3JlZjgpIHsKICAgICAgdmFyIGRhdGEgPSBfcmVmOC5kYXRhOwogICAgICBjb25zb2xlLmxvZyhkYXRhKTsKICAgICAgY29udGV4dC5jb21taXQoU0VUX0NBUlQsIGRhdGEpOwogICAgICByZXNvbHZlKGRhdGEpOwogICAgfSlbImNhdGNoIl0oZnVuY3Rpb24gKF9yZWY5KSB7CiAgICAgIHZhciByZXNwb25zZSA9IF9yZWY5LnJlc3BvbnNlOwogICAgICBjb250ZXh0LmNvbW1pdChTRVRfRVJST1IsIHJlc3BvbnNlKTsKICAgIH0pOwogIH0pOwp9KSwgX2RlZmluZVByb3BlcnR5KF9hY3Rpb25zLCBBRERfQ0FSVCwgZnVuY3Rpb24gKGNvbnRleHQsIGlkKSB7CiAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlKSB7CiAgICBBcGlTZXJ2aWNlLnBvc3QoInVzZXJzL2NhcnQvIiArIGlkLCB7fSwgdHJ1ZSk7CiAgfSk7Cn0pLCBfZGVmaW5lUHJvcGVydHkoX2FjdGlvbnMsIFJFTU9WRV9DQVJULCBmdW5jdGlvbiAoY29udGV4dCwgaWQpIHsKICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUpIHsKICAgIEFwaVNlcnZpY2VbImRlbGV0ZSJdKCJ1c2Vycy9jYXJ0LyIgKyBpZCwgdHJ1ZSkudGhlbihmdW5jdGlvbiAoX3JlZjEwKSB7CiAgICAgIHZhciBkYXRhID0gX3JlZjEwLmRhdGE7CiAgICAgIHJlc29sdmUoZGF0YSk7CiAgICB9KTsKICB9KTsKfSksIF9hY3Rpb25zKTsKdmFyIG11dGF0aW9ucyA9IChfbXV0YXRpb25zID0ge30sIF9kZWZpbmVQcm9wZXJ0eShfbXV0YXRpb25zLCBTRVRfRVJST1IsIGZ1bmN0aW9uIChzdGF0ZSwgZXJyb3IpIHsKICBzdGF0ZS5lcnJvcnMgPSBlcnJvcjsKfSksIF9kZWZpbmVQcm9wZXJ0eShfbXV0YXRpb25zLCBTRVRfQVVUSCwgZnVuY3Rpb24gKHN0YXRlLCB0b2tlbikgewogIHN0YXRlLmlzQXV0aGVudGljYXRlZCA9IHRydWU7CiAgc3RhdGUudXNlci50b2tlbiA9IHRva2VuOwogIHN0YXRlLmVycm9ycyA9IHt9OwogIEp3dFNlcnZpY2Uuc2F2ZVRva2VuKHN0YXRlLnVzZXIudG9rZW4pOwp9KSwgX2RlZmluZVByb3BlcnR5KF9tdXRhdGlvbnMsIFBVUkdFX0FVVEgsIGZ1bmN0aW9uIChzdGF0ZSkgewogIHN0YXRlLmlzQXV0aGVudGljYXRlZCA9IGZhbHNlOwogIHN0YXRlLnVzZXIgPSB7fTsKICBzdGF0ZS5lcnJvcnMgPSB7fTsKICBKd3RTZXJ2aWNlLmRlc3Ryb3lUb2tlbigpOwp9KSwgX2RlZmluZVByb3BlcnR5KF9tdXRhdGlvbnMsIFNFVF9QUk9GSUxFLCBmdW5jdGlvbiAoc3RhdGUsIHByb2ZpbGUpIHsKICBzdGF0ZS5wcm9maWxlID0gcHJvZmlsZTsKICBzdGF0ZS5lcnJvcnMgPSB7fTsKfSksIF9kZWZpbmVQcm9wZXJ0eShfbXV0YXRpb25zLCBTRVRfQ0FSVCwgZnVuY3Rpb24gKHN0YXRlLCBjYXJ0KSB7CiAgc3RhdGUuY2FydCA9IGNhcnQ7CiAgc3RhdGUuZXJyb3JzID0ge307Cn0pLCBfbXV0YXRpb25zKTsKZXhwb3J0IGRlZmF1bHQgewogIHN0YXRlOiBzdGF0ZSwKICBhY3Rpb25zOiBhY3Rpb25zLAogIG11dGF0aW9uczogbXV0YXRpb25zLAogIGdldHRlcnM6IGdldHRlcnMKfTs="},{"version":3,"sources":["/home/marc/Escritorio/MCMeals/client.mcmeals.com/src/store/auth.module.ts"],"names":[],"mappings":";;;;;AAAA,OAAO,UAAP,MAAuB,sBAAvB;AACA,OAAO,UAAP,MAAuB,sBAAvB;AACA,SACE,KADF,EAEE,MAFF,EAGE,QAHF,EAIE,QAJF,EAKE,WALF,EAME,QANF,EAOE,QAPF,EAQE,WARF,QASO,gBATP;AAUA,SACE,QADF,EAEE,UAFF,EAGE,SAHF,EAIE,WAJF,EAKE,QALF,QAMO,kBANP;AASA,IAAM,KAAK,GAAG;AACZ,EAAA,MAAM,EAAE,IADI;AAEZ,EAAA,IAAI,EAAE,EAFM;AAGZ,EAAA,OAAO,EAAE,EAHG;AAIZ,EAAA,IAAI,EAAE,EAJM;AAKZ,EAAA,eAAe,EAAE,CAAC,CAAC,UAAU,CAAC,QAAX;AALP,CAAd;AASA,IAAM,OAAO,GAAG;AACd;AACA,EAAA,WAFc,uBAEF,KAFE,EAEQ;AACpB,WAAO,KAAK,CAAC,IAAb;AACD,GAJa;AAMd;AACA,EAAA,eAPc,2BAOE,KAPF,EAOY;AACxB,WAAO,KAAK,CAAC,eAAb;AACD,GATa;AAWd;AACA,EAAA,SAZc,qBAYJ,KAZI,EAYM;AAClB,WAAO,KAAK,CAAC,MAAb;AACD,GAda;AAgBd;AACA,EAAA,OAjBc,mBAiBN,KAjBM,EAiBI;AAChB,WAAO,KAAK,CAAC,OAAb;AACD,GAnBa;AAqBd;AACA,EAAA,IAtBc,gBAsBT,KAtBS,EAsBC;AACb,WAAO,KAAK,CAAC,IAAb;AACD;AAxBa,CAAhB;AA4BA,IAAM,OAAO,6CAEV,KAFU,YAEH,OAFG,EAEW,WAFX,EAE2B;AACpC,EAAA,OAAO,CAAC,GAAR,CAAY,WAAZ;AACA,SAAO,IAAI,OAAJ,CAAY,UAAA,OAAO,EAAG;AAC3B,IAAA,UAAU,CAAC,IAAX,CAAgB,aAAhB,EAA+B,WAA/B,EACG,IADH,CACQ,gBAAa;AAAA,UAAV,IAAU,QAAV,IAAU;AACjB,MAAA,OAAO,CAAC,GAAR,CAAY,IAAZ;AACA,MAAA,OAAO,CAAC,MAAR,CAAe,QAAf,EAAyB,IAAI,CAAC,KAA9B;AACA,MAAA,OAAO,CAAC,IAAD,CAAP;AACD,KALH,WAMS,iBAAiB;AAAA,UAAd,QAAc,SAAd,QAAc;AACtB,MAAA,OAAO,CAAC,GAAR,CAAY,QAAQ,CAAC,IAAT,CAAc,gBAA1B;AACA,MAAA,OAAO,CAAC,MAAR,CAAe,SAAf,EAA0B,QAAQ,CAAC,IAAT,CAAc,gBAAxC;AACD,KATH;AAUD,GAXM,CAAP;AAYD,CAhBU,6BAmBV,MAnBU,YAmBF,OAnBE,EAmBU;AACnB,EAAA,OAAO,CAAC,MAAR,CAAe,UAAf;AACD,CArBU,6BAwBV,QAxBU,YAwBA,OAxBA,EAwBc,WAxBd,EAwB8B;AACvC,SAAO,IAAI,OAAJ,CAAY,UAAC,OAAD,EAAU,MAAV,EAAoB;AACrC,IAAA,UAAU,CAAC,IAAX,CAAgB,gBAAhB,EAAkC,WAAlC,EACG,IADH,CACQ,iBAAa;AAAA,UAAV,IAAU,SAAV,IAAU;AACjB,MAAA,OAAO,CAAC,IAAD,CAAP;AACD,KAHH,WAIS,iBAAiB;AAAA,UAAd,QAAc,SAAd,QAAc;AACtB,MAAA,OAAO,CAAC,MAAR,CAAe,SAAf,EAA0B,QAAQ,CAAC,IAAnC;AACA,MAAA,MAAM,CAAC,QAAD,CAAN;AACD,KAPH;AAQD,GATM,CAAP;AAUD,CAnCU,6BAsCV,QAtCU,YAsCA,OAtCA,EAsCY;AACrB,MAAI,UAAU,CAAC,QAAX,EAAJ,EAA2B;AACzB,IAAA,UAAU,CAAC,GAAX,CAAe,gBAAf,EAAiC,IAAjC,WACS,iBAAiB;AAAA,UAAd,QAAc,SAAd,QAAc;AACtB,MAAA,OAAO,CAAC,GAAR,CAAY,QAAZ;AACA,MAAA,OAAO,CAAC,MAAR,CAAe,UAAf;AACD,KAJH;AAKD,GAND,MAMO;AACL,IAAA,OAAO,CAAC,MAAR,CAAe,UAAf;AACD;AACF,CAhDU,6BAmDV,WAnDU,YAmDG,OAnDH,EAmDe;AACxB,SAAO,IAAI,OAAJ,CAAY,UAAA,OAAO,EAAG;AAC3B,IAAA,UAAU,CAAC,GAAX,CAAe,eAAf,EAAgC,IAAhC,EACG,IADH,CACQ,iBAAa;AAAA,UAAV,IAAU,SAAV,IAAU;AACjB,MAAA,OAAO,CAAC,MAAR,CAAe,WAAf,EAA4B,IAA5B;AACA,MAAA,OAAO,CAAC,IAAD,CAAP;AACD,KAJH,WAKS,iBAAiB;AAAA,UAAd,QAAc,SAAd,QAAc;AACtB,MAAA,OAAO,CAAC,MAAR,CAAe,SAAf,EAA0B,QAA1B;AACD,KAPH;AAQD,GATM,CAAP;AAUD,CA9DU,6BAiEV,QAjEU,YAiEA,OAjEA,EAiEY;AACrB,SAAO,IAAI,OAAJ,CAAY,UAAA,OAAO,EAAG;AAC3B,IAAA,UAAU,CAAC,GAAX,CAAe,YAAf,EAA6B,IAA7B,EACG,IADH,CACQ,iBAAa;AAAA,UAAV,IAAU,SAAV,IAAU;AACjB,MAAA,OAAO,CAAC,GAAR,CAAY,IAAZ;AACA,MAAA,OAAO,CAAC,MAAR,CAAe,QAAf,EAAyB,IAAzB;AACA,MAAA,OAAO,CAAC,IAAD,CAAP;AACD,KALH,WAMS,iBAAiB;AAAA,UAAd,QAAc,SAAd,QAAc;AACtB,MAAA,OAAO,CAAC,MAAR,CAAe,SAAf,EAA0B,QAA1B;AACD,KARH;AASD,GAVM,CAAP;AAWD,CA7EU,6BAgFV,QAhFU,YAgFA,OAhFA,EAgFc,EAhFd,EAgFwB;AACjC,SAAO,IAAI,OAAJ,CAAY,UAAA,OAAO,EAAG;AAC3B,IAAA,UAAU,CAAC,IAAX,CAAgB,gBAAgB,EAAhC,EAAoC,EAApC,EAAwC,IAAxC;AACD,GAFM,CAAP;AAGD,CApFU,6BAuFV,WAvFU,YAuFG,OAvFH,EAuFiB,EAvFjB,EAuF2B;AACpC,SAAO,IAAI,OAAJ,CAAY,UAAA,OAAO,EAAG;AAC3B,IAAA,UAAU,UAAV,CAAkB,gBAAgB,EAAlC,EAAsC,IAAtC,EACG,IADH,CACQ,kBAAa;AAAA,UAAV,IAAU,UAAV,IAAU;AACjB,MAAA,OAAO,CAAC,IAAD,CAAP;AACD,KAHH;AAID,GALM,CAAP;AAMD,CA9FU,YAAb;AAkGA,IAAM,SAAS,iDAEZ,SAFY,YAED,KAFC,EAEW,KAFX,EAEqB;AAChC,EAAA,KAAK,CAAC,MAAN,GAAe,KAAf;AACD,CAJY,+BAOZ,QAPY,YAOF,KAPE,EAOU,KAPV,EAOuB;AAClC,EAAA,KAAK,CAAC,eAAN,GAAwB,IAAxB;AACA,EAAA,KAAK,CAAC,IAAN,CAAW,KAAX,GAAmB,KAAnB;AACA,EAAA,KAAK,CAAC,MAAN,GAAe,EAAf;AACA,EAAA,UAAU,CAAC,SAAX,CAAqB,KAAK,CAAC,IAAN,CAAW,KAAhC;AACD,CAZY,+BAeZ,UAfY,YAeA,KAfA,EAeU;AACrB,EAAA,KAAK,CAAC,eAAN,GAAwB,KAAxB;AACA,EAAA,KAAK,CAAC,IAAN,GAAa,EAAb;AACA,EAAA,KAAK,CAAC,MAAN,GAAe,EAAf;AACA,EAAA,UAAU,CAAC,YAAX;AACD,CApBY,+BAuBZ,WAvBY,YAuBC,KAvBD,EAuBa,OAvBb,EAuByB;AACpC,EAAA,KAAK,CAAC,OAAN,GAAgB,OAAhB;AACA,EAAA,KAAK,CAAC,MAAN,GAAe,EAAf;AACD,CA1BY,+BA6BZ,QA7BY,YA6BF,KA7BE,EA6BU,IA7BV,EA6BmB;AAC9B,EAAA,KAAK,CAAC,IAAN,GAAa,IAAb;AACA,EAAA,KAAK,CAAC,MAAN,GAAe,EAAf;AACD,CAhCY,cAAf;AAoCA,eAAe;AACb,EAAA,KAAK,EAAL,KADa;AAEb,EAAA,OAAO,EAAP,OAFa;AAGb,EAAA,SAAS,EAAT,SAHa;AAIb,EAAA,OAAO,EAAP;AAJa,CAAf","sourcesContent":["import ApiService from \"@/common/api.service\";\nimport JwtService from \"@/common/jwt.service\";\nimport {\n  LOGIN,\n  LOGOUT,\n  REGISTER,\n  VALIDATE,\n  GET_PROFILE,\n  GET_CART,\n  ADD_CART,\n  REMOVE_CART\n} from \"./actions.type\";\nimport {\n  SET_AUTH,\n  PURGE_AUTH,\n  SET_ERROR,\n  SET_PROFILE,\n  SET_CART\n} from \"./mutations.type\";\n\n\nconst state = {\n  errors: null,\n  user: {},\n  profile: {},\n  cart: {},\n  isAuthenticated: !!JwtService.getToken()\n};\n\n\nconst getters = {\n  // Current user\n  currentUser(state: any) {\n    return state.user;\n  },\n\n  // Is authenticated\n  isAuthenticated(state: any) {\n    return state.isAuthenticated;\n  },\n\n  // Get errors\n  getErrors(state: any) {\n    return state.errors;\n  },\n\n  // Get profile\n  profile(state: any) {\n    return state.profile;\n  },\n\n  // Get cart\n  cart(state: any) {\n    return state.cart;\n  }\n};\n\n\nconst actions = {\n  // Login\n  [LOGIN](context: any, credentials: any) {\n    console.log(credentials);\n    return new Promise(resolve => {\n      ApiService.post(\"users/login\", credentials)\n        .then(({ data }) => {\n          console.log(data);\n          context.commit(SET_AUTH, data.token);\n          resolve(data);\n        })\n        .catch(({ response }) => {\n          console.log(response.data.non_field_errors);\n          context.commit(SET_ERROR, response.data.non_field_errors);\n        });\n    });\n  },\n\n  // Logout\n  [LOGOUT](context: any) {\n    context.commit(PURGE_AUTH);\n  },\n\n  // Register\n  [REGISTER](context: any, credentials: any) {\n    return new Promise((resolve, reject) => {\n      ApiService.post(\"users/register\", credentials)\n        .then(({ data }) => {\n          resolve(data);\n        })\n        .catch(({ response }) => {\n          context.commit(SET_ERROR, response.data);\n          reject(response);\n        });\n    });\n  },\n\n  // Check auth\n  [VALIDATE](context: any) {\n    if (JwtService.getToken()) {\n      ApiService.get(\"users/validate\", true)\n        .catch(({ response }) => {\n          console.log(response);\n          context.commit(PURGE_AUTH);\n        });\n    } else {\n      context.commit(PURGE_AUTH);\n    }\n  },\n\n  // Get profile\n  [GET_PROFILE](context: any) {\n    return new Promise(resolve => {\n      ApiService.get(\"users/profile\", true)\n        .then(({ data }) => {\n          context.commit(SET_PROFILE, data);\n          resolve(data);\n        })\n        .catch(({ response }) => {\n          context.commit(SET_ERROR, response);\n        });\n    });\n  },\n\n  // Get cart\n  [GET_CART](context: any) {\n    return new Promise(resolve => {\n      ApiService.get(\"users/cart\", true)\n        .then(({ data }) => {\n          console.log(data);\n          context.commit(SET_CART, data);\n          resolve(data);\n        })\n        .catch(({ response }) => {\n          context.commit(SET_ERROR, response);\n        });\n    });\n  },\n\n  // Get cart\n  [ADD_CART](context: any, id: number) {\n    return new Promise(resolve => {\n      ApiService.post(\"users/cart/\" + id, {}, true)\n    });\n  },\n\n  // Get cart\n  [REMOVE_CART](context: any, id: number) {\n    return new Promise(resolve => {\n      ApiService.delete(\"users/cart/\" + id, true)\n        .then(({ data }) => {\n          resolve(data);\n        })\n    });\n  },\n};\n\n\nconst mutations = {\n  // Set errors\n  [SET_ERROR](state: any, error: any) {\n    state.errors = error;\n  },\n\n  // Set auth\n  [SET_AUTH](state: any, token: string) {\n    state.isAuthenticated = true;\n    state.user.token = token;\n    state.errors = {};\n    JwtService.saveToken(state.user.token);\n  },\n\n  // Purge auth\n  [PURGE_AUTH](state: any) {\n    state.isAuthenticated = false;\n    state.user = {};\n    state.errors = {};\n    JwtService.destroyToken();\n  },\n\n  // Set profile\n  [SET_PROFILE](state: any, profile: any) {\n    state.profile = profile;\n    state.errors = {};\n  },\n\n  //  Set cart\n  [SET_CART](state: any, cart: any) {\n    state.cart = cart;\n    state.errors = {};\n  },\n};\n\n\nexport default {\n  state,\n  actions,\n  mutations,\n  getters\n};"],"sourceRoot":""}]}