{"remainingRequest":"/home/marc/Escritorio/MCMeals/client.mcmeals.com/node_modules/babel-loader/lib/index.js!/home/marc/Escritorio/MCMeals/client.mcmeals.com/node_modules/ts-loader/index.js??ref--13-2!/home/marc/Escritorio/MCMeals/client.mcmeals.com/src/store/modules/comment.module.ts","dependencies":[{"path":"/home/marc/Escritorio/MCMeals/client.mcmeals.com/src/store/modules/comment.module.ts","mtime":1619472835125},{"path":"/home/marc/Escritorio/MCMeals/client.mcmeals.com/node_modules/cache-loader/dist/cjs.js","mtime":1617103260404},{"path":"/home/marc/Escritorio/MCMeals/client.mcmeals.com/node_modules/babel-loader/lib/index.js","mtime":1617103260368},{"path":"/home/marc/Escritorio/MCMeals/client.mcmeals.com/node_modules/ts-loader/index.js","mtime":1617103261484}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7CmltcG9ydCBfZGVmaW5lUHJvcGVydHkgZnJvbSAiL2hvbWUvbWFyYy9Fc2NyaXRvcmlvL01DTWVhbHMvY2xpZW50Lm1jbWVhbHMuY29tL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9kZWZpbmVQcm9wZXJ0eSI7Cgp2YXIgX2FjdGlvbnMsIF9tdXRhdGlvbnM7CgppbXBvcnQgQXBpU2VydmljZSBmcm9tICJAL2NvbW1vbi9hcGkuc2VydmljZSI7CmltcG9ydCBhdXRoIGZyb20gIi4vYXV0aC5tb2R1bGUiOwppbXBvcnQgcHJvZHVjdHMgZnJvbSAiLi9wcm9kdWN0cy5tb2R1bGUiOwppbXBvcnQgeyBHRVRfQ09NTUVOVFMsIEFERF9DT01NRU5UIH0gZnJvbSAiQC9zdG9yZS9hY3Rpb25zLnR5cGUiOwppbXBvcnQgeyBTRVRfRVJST1IsIFNFVF9DT01NRU5UUywgU0VUX0NPTU1FTlQgfSBmcm9tICJAL3N0b3JlL211dGF0aW9ucy50eXBlIjsKdmFyIHN0YXRlID0gewogIGVycm9yczogbnVsbCwKICBjb21tZW50czogbnVsbAp9Owp2YXIgZ2V0dGVycyA9IHsKICAvLyBHZXQgcHJvZHVjdCdzIGNvbW1lbnRzCiAgY29tbWVudHM6IGZ1bmN0aW9uIGNvbW1lbnRzKHN0YXRlKSB7CiAgICByZXR1cm4gc3RhdGUuY29tbWVudHM7CiAgfQp9Owp2YXIgYWN0aW9ucyA9IChfYWN0aW9ucyA9IHt9LCBfZGVmaW5lUHJvcGVydHkoX2FjdGlvbnMsIEdFVF9DT01NRU5UUywgZnVuY3Rpb24gKGNvbnRleHQsIHByb2R1Y3RJZCkgewogIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSkgewogICAgQXBpU2VydmljZS5nZXQoImNvbW1lbnQvIiArIHByb2R1Y3RJZCkudGhlbihmdW5jdGlvbiAoX3JlZikgewogICAgICB2YXIgZGF0YSA9IF9yZWYuZGF0YTsKICAgICAgY29udGV4dC5jb21taXQoU0VUX0NPTU1FTlRTLCBkYXRhKTsKICAgICAgcmVzb2x2ZShkYXRhKTsKICAgIH0pWyJjYXRjaCJdKGZ1bmN0aW9uIChfcmVmMikgewogICAgICB2YXIgcmVzcG9uc2UgPSBfcmVmMi5yZXNwb25zZTsKICAgICAgY29udGV4dC5jb21taXQoU0VUX0VSUk9SLCByZXNwb25zZSk7CiAgICB9KTsKICB9KTsKfSksIF9kZWZpbmVQcm9wZXJ0eShfYWN0aW9ucywgQUREX0NPTU1FTlQsIGZ1bmN0aW9uIChjb250ZXh0LCB0aXRsZSwgYm9keSkgewogIHZhciBjb21tZW50ID0gewogICAgdXNlcjogYXV0aC5nZXR0ZXJzLnVzZXIoYXV0aC5zdGF0ZSksCiAgICBwcm9kdWN0OiBwcm9kdWN0cy5nZXR0ZXJzLnByb2R1Y3QocHJvZHVjdHMuc3RhdGUpLAogICAgdGl0bGU6IHRpdGxlLAogICAgYm9keTogYm9keQogIH07CiAgY29uc29sZS5sb2coY29tbWVudCk7IC8vIHJldHVybiBuZXcgUHJvbWlzZShyZXNvbHZlID0+IHsKICAvLyAgIEFwaVNlcnZpY2UucG9zdCgiY29tbWVudCIsIGNvbW1lbnQpCiAgLy8gICAgIC50aGVuKCh7IGRhdGEgfSkgPT4gewogIC8vICAgICAgIGNvbnRleHQuY29tbWl0KFNFVF9DT01NRU5ULCBkYXRhKTsKICAvLyAgICAgICByZXNvbHZlKGRhdGEpOwogIC8vICAgICB9KQogIC8vICAgICAuY2F0Y2goKHsgcmVzcG9uc2UgfSkgPT4gewogIC8vICAgICAgIGNvbnRleHQuY29tbWl0KFNFVF9FUlJPUiwgcmVzcG9uc2UpOwogIC8vICAgICB9KTsKICAvLyB9KTsKfSksIF9hY3Rpb25zKTsKdmFyIG11dGF0aW9ucyA9IChfbXV0YXRpb25zID0ge30sIF9kZWZpbmVQcm9wZXJ0eShfbXV0YXRpb25zLCBTRVRfRVJST1IsIGZ1bmN0aW9uIChzdGF0ZSwgZXJyb3IpIHsKICBzdGF0ZS5lcnJvcnMgPSBlcnJvcjsKfSksIF9kZWZpbmVQcm9wZXJ0eShfbXV0YXRpb25zLCBTRVRfQ09NTUVOVFMsIGZ1bmN0aW9uIChzdGF0ZSwgY29tbWVudHMpIHsKICBzdGF0ZS5lcnJvcnMgPSBudWxsOwogIHN0YXRlLmNvbW1lbnRzID0gY29tbWVudHM7Cn0pLCBfZGVmaW5lUHJvcGVydHkoX211dGF0aW9ucywgU0VUX0NPTU1FTlQsIGZ1bmN0aW9uIChzdGF0ZSwgY29tbWVudCkgewogIHN0YXRlLmVycm9ycyA9IG51bGw7CiAgc3RhdGUuY29tbWVudHMucHVzaChjb21tZW50KTsKfSksIF9tdXRhdGlvbnMpOwpleHBvcnQgZGVmYXVsdCB7CiAgc3RhdGU6IHN0YXRlLAogIGFjdGlvbnM6IGFjdGlvbnMsCiAgbXV0YXRpb25zOiBtdXRhdGlvbnMsCiAgZ2V0dGVyczogZ2V0dGVycwp9Ow=="},{"version":3,"sources":["/home/marc/Escritorio/MCMeals/client.mcmeals.com/src/store/modules/comment.module.ts"],"names":[],"mappings":";;;;;AAAA,OAAO,UAAP,MAAuB,sBAAvB;AACA,OAAO,IAAP,MAAiB,eAAjB;AACA,OAAO,QAAP,MAAqB,mBAArB;AACA,SACI,YADJ,EAEI,WAFJ,QAGO,sBAHP;AAIA,SACE,SADF,EAEE,YAFF,EAGE,WAHF,QAIO,wBAJP;AAOA,IAAM,KAAK,GAAG;AACZ,EAAA,MAAM,EAAE,IADI;AAEZ,EAAA,QAAQ,EAAE;AAFE,CAAd;AAMA,IAAM,OAAO,GAAG;AACd;AACA,EAAA,QAFc,oBAEL,KAFK,EAEK;AACjB,WAAO,KAAK,CAAC,QAAb;AACD;AAJa,CAAhB;AAQA,IAAM,OAAO,6CAEV,YAFU,YAEI,OAFJ,EAEkB,SAFlB,EAEmC;AAC5C,SAAO,IAAI,OAAJ,CAAY,UAAA,OAAO,EAAG;AAC3B,IAAA,UAAU,CAAC,GAAX,CAAe,aAAa,SAA5B,EACG,IADH,CACQ,gBAAa;AAAA,UAAV,IAAU,QAAV,IAAU;AACjB,MAAA,OAAO,CAAC,MAAR,CAAe,YAAf,EAA6B,IAA7B;AACA,MAAA,OAAO,CAAC,IAAD,CAAP;AACD,KAJH,WAKS,iBAAiB;AAAA,UAAd,QAAc,SAAd,QAAc;AACtB,MAAA,OAAO,CAAC,MAAR,CAAe,SAAf,EAA0B,QAA1B;AACD,KAPH;AAQD,GATM,CAAP;AAUD,CAbU,6BAiBV,WAjBU,YAiBG,OAjBH,EAiBiB,KAjBjB,EAiBgC,IAjBhC,EAiB4C;AACrD,MAAM,OAAO,GAAG;AACd,IAAA,IAAI,EAAE,IAAI,CAAC,OAAL,CAAa,IAAb,CAAkB,IAAI,CAAC,KAAvB,CADQ;AAEd,IAAA,OAAO,EAAE,QAAQ,CAAC,OAAT,CAAiB,OAAjB,CAAyB,QAAQ,CAAC,KAAlC,CAFK;AAGd,IAAA,KAAK,EAAL,KAHc;AAId,IAAA,IAAI,EAAJ;AAJc,GAAhB;AAOA,EAAA,OAAO,CAAC,GAAR,CAAY,OAAZ,EARqD,CAUrD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACD,CArCU,YAAb;AAyCA,IAAM,SAAS,iDAEZ,SAFY,YAED,KAFC,EAEW,KAFX,EAEqB;AAChC,EAAA,KAAK,CAAC,MAAN,GAAe,KAAf;AACD,CAJY,+BAQZ,YARY,YAQE,KARF,EAQc,QARd,EAQ2B;AACtC,EAAA,KAAK,CAAC,MAAN,GAAe,IAAf;AACA,EAAA,KAAK,CAAC,QAAN,GAAiB,QAAjB;AACD,CAXY,+BAeZ,WAfY,YAeC,KAfD,EAea,OAfb,EAeyB;AACpC,EAAA,KAAK,CAAC,MAAN,GAAe,IAAf;AACA,EAAA,KAAK,CAAC,QAAN,CAAe,IAAf,CAAoB,OAApB;AACD,CAlBY,cAAf;AAsBA,eAAe;AACb,EAAA,KAAK,EAAL,KADa;AAEb,EAAA,OAAO,EAAP,OAFa;AAGb,EAAA,SAAS,EAAT,SAHa;AAIb,EAAA,OAAO,EAAP;AAJa,CAAf","sourcesContent":["import ApiService from \"@/common/api.service\";\nimport auth from \"./auth.module\";\nimport products from \"./products.module\";\nimport {\n    GET_COMMENTS,\n    ADD_COMMENT,\n} from \"@/store/actions.type\";\nimport {\n  SET_ERROR,\n  SET_COMMENTS,\n  SET_COMMENT,\n} from \"@/store/mutations.type\";\n\n\nconst state = {\n  errors: null,\n  comments: null,\n};\n\n\nconst getters = {\n  // Get product's comments\n  comments(state: any) {\n    return state.comments;\n  },\n};\n\n\nconst actions = {\n  // Get product's comments\n  [GET_COMMENTS](context: any, productId: number) {\n    return new Promise(resolve => {\n      ApiService.get(\"comment/\" + productId)\n        .then(({ data }) => {\n          context.commit(SET_COMMENTS, data);\n          resolve(data);\n        })\n        .catch(({ response }) => {\n          context.commit(SET_ERROR, response);\n        });\n    });\n  },\n\n\n  // Add a comment\n  [ADD_COMMENT](context: any, title: string, body: string) {\n    const comment = {\n      user: auth.getters.user(auth.state),\n      product: products.getters.product(products.state),\n      title,\n      body\n    };\n\n    console.log(comment);\n\n    // return new Promise(resolve => {\n    //   ApiService.post(\"comment\", comment)\n    //     .then(({ data }) => {\n    //       context.commit(SET_COMMENT, data);\n    //       resolve(data);\n    //     })\n    //     .catch(({ response }) => {\n    //       context.commit(SET_ERROR, response);\n    //     });\n    // });\n  },\n};\n\n\nconst mutations = {\n  // Set errors\n  [SET_ERROR](state: any, error: any) {\n    state.errors = error;\n  },\n\n\n  // Set product's comments\n  [SET_COMMENTS](state: any, comments: any) {\n    state.errors = null;\n    state.comments = comments;\n  },\n\n\n  // Push one comment to the array\n  [SET_COMMENT](state: any, comment: any) {\n    state.errors = null;\n    state.comments.push(comment);\n  },\n};\n\n\nexport default {\n  state,\n  actions,\n  mutations,\n  getters\n};"],"sourceRoot":""}]}